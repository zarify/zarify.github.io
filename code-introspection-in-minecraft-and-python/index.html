<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Code Introspection in Minecraft and Python - Headtilt</title><meta name="description" content="I recently got around to trying out the new-ish Python mode for&hellip;"><meta name="robots" content="index, follow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://headtilt.me/code-introspection-in-minecraft-and-python/"><link rel="alternate" type="application/atom+xml" href="https://headtilt.me/feed.xml"><link rel="alternate" type="application/json" href="https://headtilt.me/feed.json"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@robpoulter"><meta name="twitter:title" content="Code Introspection in Minecraft and Python"><meta name="twitter:description" content="I recently got around to trying out the new-ish Python mode for&hellip;"><meta name="twitter:image" content="https://headtilt.me/media/posts/82/intro.png"><link rel="shortcut icon" href="https://headtilt.me/media/website/favicon.ico" type="image/x-icon"><link rel="preload" href="https://fonts.googleapis.com/css?family=Heebo:400,500|Playfair+Display:400" as="font" crossorigin><link rel="stylesheet" href="https://headtilt.me/assets/css/style.css?v=7aaef5a7341c740e40570fe5042e66fa"><link rel="stylesheet" href="https://headtilt.me/assets/css/photoswipe.css?v=966dabfb3dfb423703bc6983e34f4ef2"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://headtilt.me/code-introspection-in-minecraft-and-python/"},"headline":"Code Introspection in Minecraft and Python","datePublished":"2020-11-17T05:58","dateModified":"2020-11-17T06:30","image":{"@type":"ImageObject","url":"https://headtilt.me/media/posts/82/intro.png","height":289,"width":387},"description":"I recently got around to trying out the new-ish Python mode for&hellip;","author":{"@type":"Person","name":"Rob"},"publisher":{"@type":"Organization","name":"Rob","logo":{"@type":"ImageObject","url":"https://headtilt.me/media/website/slice1.png","height":78,"width":354}}}</script><script async src="https://headtilt.me/assets/js/lazysizes.min.js?v=739e7d27e1cbc58b1b2e6882674b8867"></script><link rel="stylesheet" href="https://headtilt.me/assets/css/prism.css?v=718e86b555366857a48cea2de2ecf136"></head><body><div class="container"><header class="js-top"><a class="logo" href="https://headtilt.me/"><img src="https://headtilt.me/media/website/slice1.png" alt="Headtilt"></a><div class="top"><nav class="navbar js-navbar"><button class="navbar__toggle js-navbar__toggle" aria-expanded="false">Menu</button><ul class="navbar__menu"><li><a href="https://headtilt.me/wag/ramble/" target="_self">Ramble</a></li><li><a href="https://headtilt.me/wag/classroom/" target="_self">Classroom</a></li><li><a href="https://headtilt.me/About/" target="_self">About</a></li></ul></nav></div></header><main><article class="post u-wrapper"><header class="hero"><p class="post__meta">By <a href="https://headtilt.me/authors/rob/" rel="author" title="Rob">Rob</a> Published on <time datetime="2020-11-17T05:58">November 17, 2020</time></p><h1 class="post__title">Code Introspection in Minecraft and Python</h1></header><div class="post__featured-image post__image--normal"><img src="https://headtilt.me/media/posts/82/responsive/intro-xs.png" data-srcset="https://headtilt.me/media/posts/82/responsive/intro-xs.png 300w ,https://headtilt.me/media/posts/82/responsive/intro-sm.png 480w ,https://headtilt.me/media/posts/82/responsive/intro-md.png 768w ,https://headtilt.me/media/posts/82/responsive/intro-lg.png 1024w ,https://headtilt.me/media/posts/82/responsive/intro-xl.png 1360w ,https://headtilt.me/media/posts/82/responsive/intro-2xl.png 1600w ,https://headtilt.me/media/posts/82/responsive/intro-sm2.png 375w" data-sizes="auto" height="289" width="387" alt="" class="lazyload blur-up"></div><div class="post__entry"><p>I recently got around to trying out the new-ish Python mode for coding within Minecraft: Education Edition, and whilst it is refreshing to be able to <strong>write</strong> code, the lack of a code library to be able to refer to made learning the Minecraft-specific commands somewhat difficult.</p><p>Enter code introspection, which is the ability to look inside classes and methods from within Python to list them and see what is available, or to show their docstring and discover their arguments.</p><div class="gallery gallery-wrapper--full" data-is-empty="false" data-columns="2"><figure class="gallery__item"><a href="https://headtilt.me/media/posts/82/gallery/dir_str.png" data-size="912x220"><img src="https://headtilt.me/media/posts/82/gallery/dir_str-thumbnail.png" alt="dir(str) displaying inbuilt methods and properties." width="240" height="220"></a><figcaption>Using dir to show the inbuilt methods and properties of the string class.</figcaption></figure><figure class="gallery__item"><a href="https://headtilt.me/media/posts/82/gallery/help_strip.png" data-size="714x145"><img src="https://headtilt.me/media/posts/82/gallery/help_strip-thumbnail.png" alt="help(str.strip) output" width="240" height="145"></a><figcaption>Using help to show the docstring for the strip method of strings.</figcaption></figure></div><p>Unfortunately, although the <strong>dir</strong> function works within Minecraft the same way as in regular Python, the <strong>help </strong>function does not seem to.</p><h2>Text Output in Minecraft</h2><p>Ordinarily, the interactive shell would be the place to do this, as in the screenshots above, however Minecraft doesn't have an interactive shell for Python. In places I have no shell (for example in Processing's Python mode) you could <strong>print</strong> the output of the the <strong>dir</strong> or <strong>help</strong>, but Minecraft doesn't show the output of the print function. However it does have a method for speaking text: the <strong>say</strong> function!</p><div class="gallery" data-is-empty="false" data-columns="2"><figure class="gallery__item"><a href="https://headtilt.me/media/posts/82/gallery/say_code.png" data-size="312x287"><img src="https://headtilt.me/media/posts/82/gallery/say_code-thumbnail.png" alt="Python code for the say function" width="240" height="240"></a><figcaption>Printing using say.</figcaption></figure><figure class="gallery__item"><a href="https://headtilt.me/media/posts/82/gallery/say_output.png" data-size="760x223"><img src="https://headtilt.me/media/posts/82/gallery/say_output-thumbnail.png" alt="Output from the say function" width="240" height="223"></a><figcaption>The output of the say code.</figcaption></figure></div><h2>Combining say() and dir()</h2><p>The naive way (because <strong>print</strong> in regular Python lets you) of showing available commands for an object like the <strong>agent</strong> would be to run code like this:</p><pre><code>say(dir(agent))</code></pre><p>However, this will fail to run, with the possibly unhelpful error message:</p><pre><code>Error: _minecraft_builtins.MinecraftError: Syntax error: Unexpected "[": at "~ ~ ~ say &gt;&gt;[&lt;&lt;'__class__" (Code: 0x80000000)</code></pre><p>which basically boils down to the output of <strong>dir</strong> being a list of strings, and the <strong>say</strong> function expecting just one string. The print function will happily give you a string representation of anything, but say is not so flexible.</p><p>The solution is to <strong>join</strong> the list into one string separated by something useful like a line break:</p><pre><code style="font-weight: var(--font-weight-normal);">say("\n".join(dir(agent)))</code></pre><p>This may look a bit arcane, so let's break it down:</p><ul><li>"\n" is the string we would like to join together the individual list items with.<br>This is a <strong>newline</strong> character, which creates a line break, so every item will be on its own line.</li><li><strong>join</strong> is a string function we call <em>on</em> the newline character, and takes as an argument a list of strings.</li><li>dir(agent) gets us the name of every attribute and method which belongs to the agent object as a list of strings.</li></ul><figure class="post__image"><img class="lazyload blur-up" src="https://headtilt.me/media/posts/82/responsive/dir_output_part-xs.png" data-sizes="auto" data-srcset="https://headtilt.me/media/posts/82/responsive/dir_output_part-xs.png 300w ,https://headtilt.me/media/posts/82/responsive/dir_output_part-sm.png 480w ,https://headtilt.me/media/posts/82/responsive/dir_output_part-md.png 768w ,https://headtilt.me/media/posts/82/responsive/dir_output_part-lg.png 1024w" alt="Partial output of the dir(agent) call." width="757" height="364"><figcaption>Here is the last part of the output of this code, showing what we can do with the Agent.</figcaption></figure><p>This works nicely. The list is long, and so only shows part of it in the world chat view, but we can open up the chat window (by pressing <strong>t</strong> or <strong>Enter)</strong> to be able to scroll through the whole list:</p><ul><li>attack</li><li>collect</li><li>destroy</li><li>drop</li><li>get_item</li><li>get_item_count</li><li>give</li><li>inspect</li><li>inspect_data</li><li>interact</li><li>move</li><li>place</li><li>position</li><li>rotation</li><li>say</li><li>teleport</li><li>till</li><li>transfer</li><li>turn</li></ul><p>You will also see a number of listings with __ or _ prepended. These are internal methods and attributes, which you generally don't want to fiddle with.</p><p>We can also use a similar technique to look at the contents of the <strong>globals</strong> dictionary, which is the collection of variables currently defined in the global scope. This gives us an idea of what objects have been created which we can poke at using the <strong>dir</strong> function (not everything is an object though).</p><pre><code style="font-weight: var(--font-weight-normal);">say("\n".join(globals()))</code></pre><p>This gives us interesting things to look at like the <strong>player</strong>, <strong>world</strong>, and <strong>user</strong>, as well as globally defined functions like <strong>spawn</strong>, and <strong>summon</strong>.</p><h2>Help</h2><p>Unfortunately, although there is a help function available, it doesn't seem to work the same way as the standard Python one, so the way to figure out how many of the functions and methods work is through trial and error. Generally the Python editor within Minecraft will give you useful enough errors to know how many and what type of arguments something needs to run when you get it wrong, and that combined with liberal use of good old print debugging using the <strong>say</strong> function should get you where you need to go.</p><p>For example I spent a little while poking at the agent's <strong>inspect</strong> method trying to solve one of this year's Hour of Code problems in a manner that wasn't in the instructions (didn't work, but led to this post as <strong>inspect</strong> wasn't advertised anywhere in the instructions).</p><p>First I can just try the inspect method by itself (even though knowing what it does I should expect a direction):</p><div><pre><code>agent.inspect()</code></pre></div><p>This gives me an error when I run it and return to Code Builder:</p><figure class="post__image post__image--center"><img class="lazyload blur-up" src="https://headtilt.me/media/posts/82/responsive/inspect_error-xs.png" data-sizes="auto" data-srcset="https://headtilt.me/media/posts/82/responsive/inspect_error-xs.png 300w ,https://headtilt.me/media/posts/82/responsive/inspect_error-sm.png 480w ,https://headtilt.me/media/posts/82/responsive/inspect_error-md.png 768w ,https://headtilt.me/media/posts/82/responsive/inspect_error-lg.png 1024w" alt="An inspect error" width="611" height="69"><figcaption>An error indicating that I need to give inspect a single argument</figcaption></figure><p>Now I can add in a directional argument, save the return value of that method call to a variable, and say it to determine what information the agent is actually receiving.</p><pre><code>d = agent.inspect("down")
say(d)</code></pre><figure class="post__image post__image--center"><img class="lazyload blur-up" src="https://headtilt.me/media/posts/82/responsive/inspect_output-xs.png" data-sizes="auto" data-srcset="https://headtilt.me/media/posts/82/responsive/inspect_output-xs.png 300w ,https://headtilt.me/media/posts/82/responsive/inspect_output-sm.png 480w ,https://headtilt.me/media/posts/82/responsive/inspect_output-md.png 768w ,https://headtilt.me/media/posts/82/responsive/inspect_output-lg.png 1024w" alt="Output of the inspect command" width="1198" height="638"><figcaption>"grass" is what is under my Agent!</figcaption></figure><p>With a bit of perseverance, you should be able to figure out most of the undocumented features through this method.</p></div><footer class="post__footer"><div class="post__last-updated">This article was updated on November 17, 2020</div><div class="post__footer__col"><ul class="post__tag"><li><a href="https://headtilt.me/wag/classroom/">classroom</a></li><li><a href="https://headtilt.me/wag/minecraft/">minecraft</a></li><li><a href="https://headtilt.me/wag/python/">python</a></li></ul></div><nav class="post__nav"><div class="post__nav__prev">Previous Post<h5><a href="https://headtilt.me/year-7-8-networking-concepts-mk-2/" class="inverse" rel="prev">Year 7-8 Networking Concepts Mk 2</a></h5></div><div class="post__nav__next">Next Post<h5><a href="https://headtilt.me/robotics-inchworms-with-motivation/" class="inverse" rel="next">Robotics: Inchworms with Motivation</a></h5></div></nav></footer></article></main><footer class="footer"><div class="footer__copyright">Powered by inertia.</div><div class="footer__social"><a href="https://twitter.com/robpoulter" aria-label="Twitter"><svg class="icon"><use xlink:href="https://headtilt.me/assets/svg/svg-map.svg#twitter"/></svg></a></div></footer></div><script defer="defer" src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script><script defer="defer" src="https://headtilt.me/assets/js/scripts.min.js?v=f503b0ac46db9f99180b3b9f932c7f9a"></script><script defer="defer" src="https://headtilt.me/assets/js/photoswipe.min.js?v=9c62086e50d89a9b6a29389a70ee0d65"></script><script defer="defer" src="https://headtilt.me/assets/js/photoswipe-ui-default.min.js?v=aafb02c13ce2b295ff34a8ac0db67cbb"></script><script>var initPhotoSwipeFromDOM=function(gallerySelector){var parseThumbnailElements=function(el){var thumbElements=el.childNodes,numNodes=thumbElements.length,items=[],figureEl,linkEl,size,item;for(var i=0;i<numNodes;i++){figureEl=thumbElements[i];if(figureEl.nodeType!==1){continue;}
              linkEl=figureEl.children[0];size=linkEl.getAttribute('data-size').split('x');item={src:linkEl.getAttribute('href'),w:parseInt(size[0],10),h:parseInt(size[1],10)};if(figureEl.children.length>1){item.title=figureEl.children[1].innerHTML;}
              if(linkEl.children.length>0){item.msrc=linkEl.children[0].getAttribute('src');}
              item.el=figureEl;items.push(item);}
              return items;};var closest=function closest(el,fn){return el&&(fn(el)?el:closest(el.parentNode,fn));};var onThumbnailsClick=function(e){e=e||window.event;e.preventDefault?e.preventDefault():e.returnValue=false;var eTarget=e.target||e.srcElement;var clickedListItem=closest(eTarget,function(el){return(el.tagName&&el.tagName.toUpperCase()==='FIGURE');});if(!clickedListItem){return;}
              var clickedGallery=clickedListItem.parentNode,childNodes=clickedListItem.parentNode.childNodes,numChildNodes=childNodes.length,nodeIndex=0,index;for(var i=0;i<numChildNodes;i++){if(childNodes[i].nodeType!==1){continue;}
              if(childNodes[i]===clickedListItem){index=nodeIndex;break;}
              nodeIndex++;}
              if(index>=0){openPhotoSwipe(index,clickedGallery);}
              return false;};var photoswipeParseHash=function(){var hash=window.location.hash.substring(1),params={};if(hash.length<5){return params;}
              var vars=hash.split('&');for(var i=0;i<vars.length;i++){if(!vars[i]){continue;}
              var pair=vars[i].split('=');if(pair.length<2){continue;}
              params[pair[0]]=pair[1];}
              if(params.gid){params.gid=parseInt(params.gid,10);}
              return params;};var openPhotoSwipe=function(index,galleryElement,disableAnimation,fromURL){var pswpElement=document.querySelectorAll('.pswp')[0],gallery,options,items;items=parseThumbnailElements(galleryElement);options={galleryUID:galleryElement.getAttribute('data-pswp-uid'),getThumbBoundsFn:function(index){var thumbnail=items[index].el.getElementsByTagName('img')[0],pageYScroll=window.pageYOffset||document.documentElement.scrollTop,rect=thumbnail.getBoundingClientRect();return{x:rect.left,y:rect.top+pageYScroll,w:rect.width};},
              mainClass:'',
              hideAnimationDuration:200,
              showAnimationDuration:0,
              bgOpacity: 0.7,
              showHideOpacity:true,
              closeOnScroll: true,
              arrowKeys: true,
              closeEl: true,
              captionEl: true,
              fullscreenEl: true,
              zoomEl: true,
              shareEl: true,
              counterEl: true,
              arrowEl: true,
              preloaderEl: true
              };if(fromURL){if(options.galleryPIDs){for(var j=0;j<items.length;j++){if(items[j].pid==index){options.index=j;break;}}}else{options.index=parseInt(index,10)-1;}}else{options.index=parseInt(index,10);}
              if(isNaN(options.index)){return;}
              if(disableAnimation){options.showAnimationDuration=0;}
              gallery=new PhotoSwipe(pswpElement,PhotoSwipeUI_Default,items,options);gallery.init();gallery.options.escKey=true;};var galleryElements=document.querySelectorAll(gallerySelector);for(var i=0,l=galleryElements.length;i<l;i++){galleryElements[i].setAttribute('data-pswp-uid',i+1);galleryElements[i].onclick=onThumbnailsClick;}
              var hashData=photoswipeParseHash();if(hashData.pid&&hashData.gid){openPhotoSwipe(hashData.pid,galleryElements[hashData.gid-1],true,true);}};initPhotoSwipeFromDOM('.gallery');</script><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" title="Share"></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><script>(function() {
    		var script = document.createElement('script');
    		window.counter = 'https://headtilt_me.goatcounter.com/count'
    		script.async = 1;
    		script.src = '//gc.zgo.at/count.js';
    
    		var ins = document.getElementsByTagName('script')[0];
    		ins.parentNode.insertBefore(script, ins)
    	})();</script><script defer="defer" src="https://headtilt.me/assets/js/prism.js?v=afcf02720f838e992a12336758017bcf"></script></body></html>