<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>WASM Python - Cat Herding 06 | Headtilt</title>
<meta name="keywords" content="ai, python, llm, agents, cat-herding, wasm-python">
<meta name="description" content="Pre(r)amble
This is part of a(n aspirationally) series of posts documenting some of the process of
(building|cat herding an AI agent to build) an easily hosted Python teaching tool built
with just front-end JS and a WASM port of MicroPython.

You can find Part 1 here
You can find Part 2 here
You can find Part 3 here
You can find Part 4 here
You can find Part 5 here
This is Part 6!

I have a (somewhat) up to date version of this tool running on the site. Things might
occasionally be broken, things might not work the same way as they did before.">
<meta name="author" content="Rob">
<link rel="canonical" href="https://headtilt.me/cat-herding-wasm-python-06/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css" integrity="sha256-1vzSCk&#43;4bvpN&#43;sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://headtilt.me/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://headtilt.me/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://headtilt.me/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://headtilt.me/apple-touch-icon.png">
<link rel="mask-icon" href="https://headtilt.me/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://headtilt.me/cat-herding-wasm-python-06/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><script src="https://kit.fontawesome.com/3ec5c52433.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="/css/formatting.css">



</head>

<body class="" id="top">

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://headtilt.me/" accesskey="h" title="Adjust your angle (Alt + H)">
                <img src="https://headtilt.me/images/headtilt.png" alt="" aria-label="logo"
                    height="30">Adjust your angle</a>
            <div class="logo-switches">
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://headtilt.me/post" title="posts">
                    <span><i class="fa-solid fa-pen-to-square"></i> posts</span>
                </a>
            </li>
            <li>
                <a href="https://headtilt.me/page/about/" title="about">
                    <span><i class="fa-solid fa-circle-info"></i> about</span>
                </a>
            </li>
            <li>
                <a href="https://headtilt.me/categories/" title="categories">
                    <span><i class="fa-solid fa-layer-group"></i> categories</span>
                </a>
            </li>
            <li>
                <a href="https://headtilt.me/tags/" title="tags">
                    <span><i class="fa-solid fa-tags"></i> tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      WASM Python - Cat Herding 06
    </h1>
    <div class="post-meta"><span title='2025-09-30 20:32:42 +0800 AWST'>Tue, Sep 30, 2025</span>&nbsp;Â·&nbsp;Rob

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#preramble" aria-label="Pre(r)amble">Pre(r)amble</a></li>
                <li>
                    <a href="#what-we-had-before" aria-label="What we had before">What we had before</a></li>
                <li>
                    <a href="#whats-happened-since" aria-label="What&rsquo;s happened since">What&rsquo;s happened since</a><ul>
                        
                <li>
                    <a href="#file-tab-manager" aria-label="File Tab Manager">File Tab Manager</a></li>
                <li>
                    <a href="#record-replay" aria-label="Record-Replay">Record-Replay</a></li>
                <li>
                    <a href="#documentation" aria-label="Documentation">Documentation</a></li></ul>
                </li>
                <li>
                    <a href="#aintrospection" aria-label="(A)Introspection">(A)Introspection</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="preramble">Pre(r)amble<a hidden class="anchor" aria-hidden="true" href="#preramble">#</a></h2>
<p>This is part of a(n aspirationally) series of posts documenting some of the process of
(building|cat herding an AI agent to build) an easily hosted Python teaching tool built
with just front-end JS and a WASM port of MicroPython.</p>
<ul>
<li><a href="https://headtilt.me/cat-herding-wasm-python-01/">You can find Part 1 here</a></li>
<li><a href="https://headtilt.me/cat-herding-wasm-python-02/">You can find Part 2 here</a></li>
<li><a href="https://headtilt.me/cat-herding-wasm-python-03/">You can find Part 3 here</a></li>
<li><a href="https://headtilt.me/cat-herding-wasm-python-04/">You can find Part 4 here</a></li>
<li><a href="https://headtilt.me/cat-herding-wasm-python-05/">You can find Part 5 here</a></li>
<li>This is Part 6!</li>
</ul>
<p>I have a (somewhat) up to date version of this tool running on the site. Things might
occasionally be broken, things might not work the same way as they did before.</p>
<ul>
<li>The <a href="/clipy">learning interface is here</a></li>
<li>The <a href="/clipy/author">authoring interface is here</a></li>
</ul>
<p>There&rsquo;s a changelog in the authoring interface to give you a bit of an idea of what&rsquo;s
new or different.</p>

            <link rel="stylesheet" href="/css/vendors/admonitions.4fd9a0b8ec8899f2ca952048d255a569f433f77dfb3f52f5bc87e7d65cdce449.css" integrity="sha256-T9mguOyImfLKlSBI0lWlafQz9337P1L1vIfn1lzc5Ek=" crossorigin="anonymous">
    <div class="admonition warning">
      <div class="admonition-header"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"/></svg>
        <span>Warning</span>
      </div>
      <div class="admonition-content">
        <p>If you&rsquo;ve used this before, you might need to do a hard refresh to clear out
any cached JS or CSS.</p>
      </div>
    </div><h2 id="what-we-had-before">What we had before<a hidden class="anchor" aria-hidden="true" href="#what-we-had-before">#</a></h2>
<p>See <a href="https://headtilt.me/cat-herding-wasm-python-05/">the last post</a> for
some of the details and screenshots.</p>
<ul>
<li>Loading problem lists, not just individual problems</li>
<li>Persistent success indicators in problems and lists</li>
<li>Dependencies for feedback items</li>
</ul>
<h2 id="whats-happened-since">What&rsquo;s happened since<a hidden class="anchor" aria-hidden="true" href="#whats-happened-since">#</a></h2>
<p>The last week and a bit have mostly been about the user-facing
side of Clipy.</p>
<p>Here are some screenshots of the latest version with some of the new things from this week.</p>
<style>
    .image-gallery {
        display: flex;
        flex-wrap: wrap;
        gap: 1%;
        margin-left: -1% !important;
    }

    .image-gallery li {
        list-style: none;
        width: 19%;
        display: flex;
        flex-direction: column;
    }

    .image-gallery li a {
        text-align: center;
        text-decoration: none !important;
        color: #777;
        display: flex;
        flex-direction: column;
        flex-grow: 1;
        justify-content: space-between;
        box-shadow: none !important;
    }

    .image-gallery li a span {
        display: block;
        padding: 3px 0;
        white-space: normal;
        font-size: 0.8em;
    }

    .image-gallery li a img {
        width: 100%;
        display: block;
    }

     
    @media (max-width: 1200px) {
        .image-gallery li {
            width: 24%;
             
        }
    }

    @media (max-width: 992px) {
        .image-gallery li {
            width: 32%;
             
        }
    }

    @media (max-width: 768px) {
        .image-gallery li {
            width: 49%;
             
        }
    }

    @media (max-width: 576px) {
        .image-gallery li {
            width: 100%;
             
        }
    }
</style>


<ul class="image-gallery">
    <li>
        <a href="/gallery/clipy/week6/01_user_rename_files.png" title="01_user_rename_files" class="lightbox-image">
            <img src="/gallery/clipy/week6/01_user_rename_files.png" alt="01_user_rename_files" title="01_user_rename_files">
            <span>01_user_rename_files</span>
        </a>
    </li>
    <li>
        <a href="/gallery/clipy/week6/02_user_file_overflow.png" title="02_user_file_overflow" class="lightbox-image">
            <img src="/gallery/clipy/week6/02_user_file_overflow.png" alt="02_user_file_overflow" title="02_user_file_overflow">
            <span>02_user_file_overflow</span>
        </a>
    </li>
    <li>
        <a href="/gallery/clipy/week6/03_user_file_list.png" title="03_user_file_list" class="lightbox-image">
            <img src="/gallery/clipy/week6/03_user_file_list.png" alt="03_user_file_list" title="03_user_file_list">
            <span>03_user_file_list</span>
        </a>
    </li>
    <li>
        <a href="/gallery/clipy/week6/04_user_replay_controls.png" title="04_user_replay_controls" class="lightbox-image">
            <img src="/gallery/clipy/week6/04_user_replay_controls.png" alt="04_user_replay_controls" title="04_user_replay_controls">
            <span>04_user_replay_controls</span>
        </a>
    </li>
    <li>
        <a href="/gallery/clipy/week6/05_user_replay_variable.png" title="05_user_replay_variable" class="lightbox-image">
            <img src="/gallery/clipy/week6/05_user_replay_variable.png" alt="05_user_replay_variable" title="05_user_replay_variable">
            <span>05_user_replay_variable</span>
        </a>
    </li>
    
</ul>
<h3 id="file-tab-manager">File Tab Manager<a hidden class="anchor" aria-hidden="true" href="#file-tab-manager">#</a></h3>
<p>The fairly primitive tabbed file manager that we had in the earlier
versions of Clipy are gone, replaced with something that I hope is
a bit friendlier on smaller screens. I had a couple of ideas kicking
around in my head:</p>
<ul>
<li>A sideways scrolling list of files, similar to Excel&rsquo;s worksheets</li>
<li>Something more geared to vertical scrolling for more files</li>
</ul>
<p>I hate Excel&rsquo;s worksheet navigation with a fiery passion, so the choice
was easy, it was just a question of how to manage it.</p>
<p>I settled on at most two files being visible at once with an &ldquo;N more&rdquo;
button that would pop open a modal with other files in the workspace.
<code>main.py</code> would always be visible, of course, with the last opened file
also staying open, so you can swap between it and <code>main.py</code> easily.</p>
<p>Rounding things out was renaming for files in the workspace (and in
authoring as well).</p>
<h3 id="record-replay">Record-Replay<a hidden class="anchor" aria-hidden="true" href="#record-replay">#</a></h3>
<p>A couple of years ago I ran across an interesting Python library called
<a href="https://github.com/cool-RR/pysnooper">PySnooper</a> which let you decorate
some code and see variable state as you ran it. Sort of like print
debugging, but there&rsquo;s almost nothing to clean up, and you don&rsquo;t need to
know what you&rsquo;re looking for first.</p>
<p>My first run at a WASM Python editor I made a little proof of concept for
plugging something like PySnooper in for a basic program and, well, it
was OK, but the whole environment was not much more than an interesting
demo.</p>
<p>This time the WASM part was worked out first, and I&rsquo;d almost forgotten
about record-replay, but here we are. After the user runs their code
(assuming it doesn&rsquo;t crash) they get a replay of the run. They can scrub
through or step through their execution, with any variables on each line
showing the current state, giving an opportunity to understand things
like variables in <code>for</code> loops, just what is happening to that variable
you re-used, etc. Not going to lie, I&rsquo;m pretty pleased that it seems to
be working.</p>
<video width="100%" controls>
  <source src="/images/clipy/scrubbing.mp4" type="video/mp4">
</video>
<h3 id="documentation">Documentation<a hidden class="anchor" aria-hidden="true" href="#documentation">#</a></h3>
<p>I took the time to write up some documentation for the user and author
during the week. Shame I need to go retake a bunch of screenshots now
that the file manager looks different ðŸ˜‚</p>
<p><a href="https://github.com/zarify/clipy/tree/main/docs">Check out the docs here</a>.</p>
<h2 id="aintrospection">(A)Introspection<a hidden class="anchor" aria-hidden="true" href="#aintrospection">#</a></h2>
<p>I&rsquo;m starting to hate Claude. For every time it&rsquo;s breezed through adding
a feature, it&rsquo;s gotten stuck like a plus-sized Jack Russell in a rabbit
hole many more times, chasing concepts that don&rsquo;t apply to the project,
trying to create Python test files for an environment that runs in the
browser, and just general boneheadedness that I wouldn&rsquo;t expect from any
of my students, no matter how inexperienced.</p>
<p>I&rsquo;ve been playing around with some other custom agent chat modes the last
couple of weeks for planning and writing good spec documents, but haven&rsquo;t
gotten around to playing with them much. Too much nervousness around the
unknown quality and breaking things more than they sometimes are already
when we&rsquo;re half-way through a feature. I need to find another side
project to experiment with, or perhaps something small enough to do end
to end with different methods.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://headtilt.me/tags/ai/">Ai</a></li>
      <li><a href="https://headtilt.me/tags/python/">Python</a></li>
      <li><a href="https://headtilt.me/tags/llm/">Llm</a></li>
      <li><a href="https://headtilt.me/tags/agents/">Agents</a></li>
      <li><a href="https://headtilt.me/tags/cat-herding/">Cat-Herding</a></li>
      <li><a href="https://headtilt.me/tags/wasm-python/">Wasm-Python</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>Rob Poulter</span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a><script type="text/javascript" src="/js/lightbox.js"></script>
<link rel="stylesheet" href="/css/lightbox.css">
<script data-goatcounter="https://headtilt_me.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
