<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Micro:bit Haunted House - Headtilt</title><meta name="description" content="This year I have been teaching robotics to Year 8s for the&hellip;"><meta name="robots" content="index, follow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://headtilt.me/microbit-haunted-house/"><link rel="alternate" type="application/atom+xml" href="https://headtilt.me/feed.xml"><link rel="alternate" type="application/json" href="https://headtilt.me/feed.json"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@robpoulter"><meta name="twitter:title" content="Micro:bit Haunted House"><meta name="twitter:description" content="This year I have been teaching robotics to Year 8s for the&hellip;"><meta name="twitter:image" content="https://headtilt.me/media/posts/74/File-5-11-18-8-05-24-pm.jpeg"><link rel="shortcut icon" href="https://headtilt.me/media/website/favicon.ico" type="image/x-icon"><link rel="preload" href="https://fonts.googleapis.com/css?family=Heebo:400,500|Playfair+Display:400" as="font" crossorigin><link rel="stylesheet" href="https://headtilt.me/assets/css/style.css?v=7aaef5a7341c740e40570fe5042e66fa"><link rel="stylesheet" href="https://headtilt.me/assets/css/photoswipe.css?v=966dabfb3dfb423703bc6983e34f4ef2"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://headtilt.me/microbit-haunted-house/"},"headline":"Micro:bit Haunted House","datePublished":"2018-11-05T20:56","dateModified":"2019-01-10T16:27","image":{"@type":"ImageObject","url":"https://headtilt.me/media/posts/74/File-5-11-18-8-05-24-pm.jpeg","height":1536,"width":2048},"description":"This year I have been teaching robotics to Year 8s for the&hellip;","author":{"@type":"Person","name":"Rob"},"publisher":{"@type":"Organization","name":"Rob","logo":{"@type":"ImageObject","url":"https://headtilt.me/media/website/slice1.png","height":78,"width":354}}}</script><script async src="https://headtilt.me/assets/js/lazysizes.min.js?v=739e7d27e1cbc58b1b2e6882674b8867"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-35020754-1"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-35020754-1');</script><link rel="stylesheet" href="https://headtilt.me/assets/css/prism.css?v=718e86b555366857a48cea2de2ecf136"></head><body><div class="container"><header class="js-top"><a class="logo" href="https://headtilt.me/"><img src="https://headtilt.me/media/website/slice1.png" alt="Headtilt"></a><div class="top"><nav class="navbar js-navbar"><button class="navbar__toggle js-navbar__toggle" aria-expanded="false">Menu</button><ul class="navbar__menu"><li><a href="https://headtilt.me/wag/ramble/" target="_self">Ramble</a></li><li><a href="https://headtilt.me/wag/classroom/" target="_self">Classroom</a></li><li><a href="https://headtilt.me/About/" target="_self">About</a></li></ul></nav></div></header><main><article class="post u-wrapper"><header class="hero"><p class="post__meta">By <a href="https://headtilt.me/authors/rob/" rel="author" title="Rob">Rob</a> Published on <time datetime="2018-11-05T20:56">November 5, 2018</time></p><h1 class="post__title">Micro:bit Haunted House</h1></header><figure class="post__featured-image post__image--normal"><img src="https://headtilt.me/media/posts/74/responsive/File-5-11-18-8-05-24-pm-xs.jpeg" data-srcset="https://headtilt.me/media/posts/74/responsive/File-5-11-18-8-05-24-pm-xs.jpeg 300w ,https://headtilt.me/media/posts/74/responsive/File-5-11-18-8-05-24-pm-sm.jpeg 480w ,https://headtilt.me/media/posts/74/responsive/File-5-11-18-8-05-24-pm-md.jpeg 768w ,https://headtilt.me/media/posts/74/responsive/File-5-11-18-8-05-24-pm-lg.jpeg 1024w ,https://headtilt.me/media/posts/74/responsive/File-5-11-18-8-05-24-pm-xl.jpeg 1360w ,https://headtilt.me/media/posts/74/responsive/File-5-11-18-8-05-24-pm-2xl.jpeg 1600w ,https://headtilt.me/media/posts/74/responsive/File-5-11-18-8-05-24-pm-sm2.jpeg 375w" data-sizes="auto" height="1536" width="2048" alt="Haunted House internals" class="lazyload blur-up"><figcaption>Testing out LDR sensors</figcaption></figure><div class="post__entry"><p>This year I have been teaching robotics to Year 8s for the first time. I've mainly been using BBC Micro:bits, since they are quite affordable, robust, are easy to hook up to a range of widely available components, and are easy to program in a few different environments (MicroPython being my weapon of choice).</p><p>To keep myself entertained, and to provide my students with a sample project (although more complex code-wise than they're likely to accomplish) I decided to make something myself this term while my class worked on their own group projects (theirs are themed after the UN Global Goals). I had ideas for either building a carousel or a light gun game, and settled on the latter so I didn't have to¬†<em>also</em> tackle 3D printing out cams and gears and the like.</p><p></p><div class="post__iframe"><iframe width="640" height="360" src="https://player.vimeo.com/video/298976485" frameborder="0" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" allowfullscreen="allowfullscreen"></iframe></div><p></p><p></p><div class="post__iframe"><iframe width="640" height="360" src="https://player.vimeo.com/video/298976806" frameborder="0" webkitallowfullscreen="webkitallowfullscreen" mozallowfullscreen="mozallowfullscreen" allowfullscreen="allowfullscreen"></iframe></div><p></p><p>I have designs and code in a <a href="https://github.com/zarify/microbit/tree/master/Haunted%20House" target="_blank" rel="noopener noreferrer">GitHub repo</a> if anyone wants to have a look or use any of my ideas - there is also a list of components I used. The laser cutter designs are a bit of a mixed bag of formats at time of posting, but I'll endeavour to standardise them to SVG or something more portable later. Be aware that the Kitronik servo code used in the servo controller is MIT licensed - I have links to original repositories in the repo readme.</p><p>Below is a series of in-progress photos of the build.</p><div class="gallery" data-is-empty="false" data-columns="3"><figure class="gallery__item"><a href="https://headtilt.me/media/posts/74/gallery/File-5-11-18-8-00-25-pm.jpeg" data-size="1536x2048"><img src="https://headtilt.me/media/posts/74/gallery/File-5-11-18-8-00-25-pm-thumbnail.jpeg" alt="Laser cutouts of the spooks" width="240" height="240"></a><figcaption class="gallery-description">Ghost prototype (top) and final designs</figcaption></figure><figure class="gallery__item"><a href="https://headtilt.me/media/posts/74/gallery/File-5-11-18-8-01-53-pm.jpeg" data-size="1536x2048"><img src="https://headtilt.me/media/posts/74/gallery/File-5-11-18-8-01-53-pm-thumbnail.jpeg" alt="Laser engraving" width="240" height="240"></a><figcaption class="gallery-description">Testing out low power cutting for engraving</figcaption></figure><figure class="gallery__item"><a href="https://headtilt.me/media/posts/74/gallery/File-5-11-18-8-02-24-pm.jpeg" data-size="2048x1536"><img src="https://headtilt.me/media/posts/74/gallery/File-5-11-18-8-02-24-pm-thumbnail.jpeg" alt="Spooks all cut out" width="240" height="240"></a><figcaption class="gallery-description">My spooky lineup</figcaption></figure><figure class="gallery__item"><a href="https://headtilt.me/media/posts/74/gallery/File-5-11-18-8-02-49-pm.jpeg" data-size="2048x1536"><img src="https://headtilt.me/media/posts/74/gallery/File-5-11-18-8-02-49-pm-thumbnail.jpeg" alt="Cutouts laid out for assembly" width="240" height="240"></a><figcaption class="gallery-description">Early assembly of all the pieces</figcaption></figure><figure class="gallery__item"><a href="https://headtilt.me/media/posts/74/gallery/File-5-11-18-8-03-13-pm.jpeg" data-size="2048x1536"><img src="https://headtilt.me/media/posts/74/gallery/File-5-11-18-8-03-13-pm-thumbnail.jpeg" alt="Early assembly of servos" width="240" height="240"></a><figcaption class="gallery-description">Attaching servos and spooks</figcaption></figure><figure class="gallery__item"><a href="https://headtilt.me/media/posts/74/gallery/File-5-11-18-8-03-45-pm.jpeg" data-size="1536x2048"><img src="https://headtilt.me/media/posts/74/gallery/File-5-11-18-8-03-45-pm-thumbnail.jpeg" alt="First lot of wiring a spook" width="240" height="240"></a><figcaption class="gallery-description">Wiring up the LEDs and LDR</figcaption></figure><figure class="gallery__item"><a href="https://headtilt.me/media/posts/74/gallery/File-5-11-18-8-04-08-pm.jpeg" data-size="1536x2048"><img src="https://headtilt.me/media/posts/74/gallery/File-5-11-18-8-04-08-pm-thumbnail.jpeg" alt="Front of spook post wiring" width="240" height="240"></a><figcaption class="gallery-description">All wired up and ready to go</figcaption></figure><figure class="gallery__item"><a href="https://headtilt.me/media/posts/74/gallery/File-5-11-18-8-04-59-pm.jpeg" data-size="2048x1536"><img src="https://headtilt.me/media/posts/74/gallery/File-5-11-18-8-04-59-pm-thumbnail.jpeg" alt="Cabling internals of house" width="240" height="240"></a><figcaption class="gallery-description">Things get messy</figcaption></figure><figure class="gallery__item"><a href="https://headtilt.me/media/posts/74/gallery/File-5-11-18-8-05-24-pm.jpeg" data-size="2048x1536"><img src="https://headtilt.me/media/posts/74/gallery/File-5-11-18-8-05-24-pm-thumbnail.jpeg" alt="Testing LED and LDR components" width="240" height="240"></a><figcaption class="gallery-description">Running test code to ensure LDRs are working as expected</figcaption></figure></div><figure class="post__image undefined"><img class="lazyload blur-up" src="https://headtilt.me/media/posts/74/responsive/IMG_1459-xs.JPG" data-sizes="auto" data-srcset="https://headtilt.me/media/posts/74/responsive/IMG_1459-xs.JPG 300w ,https://headtilt.me/media/posts/74/responsive/IMG_1459-sm.JPG 480w ,https://headtilt.me/media/posts/74/responsive/IMG_1459-md.JPG 768w ,https://headtilt.me/media/posts/74/responsive/IMG_1459-lg.JPG 1024w" alt="Assembled and tested" width="4032" height="3024"><figcaption>Haunted House assembled and tested</figcaption></figure><h2>Design and Creation</h2><p>¬†There were three distinct phases for this project:</p><ul><li>Physical design (concept, vector design, laser cut and assembly)</li><li>Circuit design</li><li>Code</li></ul><p>The circuits were conceptually pretty simple: LEDs turn on and off, as well as detect and take action based off amount of light received from a photoresistor (LDR). Since the LEDs drew more power than was available from the Micro:bit itself (particularly since it also had to supply power to the LDRs) I decided to use transistors to switch power from an external battery pack to the LEDs. Since the servos were plugged into a dedicated servo controller board, they too were very straightforward.</p><p>I've been getting more interested in laser cutting recently, and so the physical design was really enjoyable. I mocked up my designs by hand before drawing the pieces up in Affinity Designer (not really the right tool for the job, but it works). I had used <a href="http://www.makercase.com/" target="_blank" rel="noopener noreferrer">MakerCase </a>with my students before to design simple boxes with cutouts, so I had some idea of how to design finger joints for some structure, and the main challenge was making the design big enough to house the components and allow a decent level of detail in the extras like the dead tree and the spooks inside. Apart from a couple of stuff-ups where my mental model didn't translate to the real world that well resulting in re-cuts, this went pretty smoothly, although it took about a week, mostly due to only being able to cut at work (and when I wasn't teaching üòÖ).</p><p>I was expecting the code to be the easiest part of the whole exercise, since that is what I'm most familiar with. The basic idea for the two¬†Micro:bits took a couple of hours to hash out in my head and roughly debug without having access to the boards. The wrinkle came when I actually loaded the code - or rather when I tried to.</p><p>Initially, my relatively simple model of a two-class program with a basic event loop was rejected as being too big to parse! I trimmed it down a bit (goodbye docstrings!) and tried again, only to encounter a memory error. Occasionally, the Micro:bit was even nice enough to tell me a number after the memory error, which I ended up guessing referred to how much of my code it failed to load, since it went down as I trimmed out functions, shortened strings, shifted dictionaries to lists, collapsed multiple objects to a singleton, and so on. The joys of programming on microcontrollers in interpreted languages!</p><p>Eventually I ended up with some plain old runtime errors, and I don't think I've ever been so happy to see one, since it meant at least my code was running on the board. Coding was still the least time-consuming part of the process, but ended up being a surprisingly challenging exercise.</p><h2>Reflection</h2><p>The whole process was really enjoyable - it ended up looking great, and works just as I envisioned it (although I didn't imagine the noisy servos in my head üòê). I haven't gotten around to building the light gun yet, since I'm having a lot of trouble figuring out how to get a nice tight beam from an LED without expensive optics or shifting to a laser, but for now a torch is sufficient.</p><p>I'm planning on adding a score board using a third Micro:bit sitting on the top of the structure (maybe when I design and cut out a tiled roof), and since I already have all the radio messages from the other two boards, I shouldn't need to add very much code to the others. This is a good thing, since I was getting to the point where adding in debugging messages to the servo board was pushing me over the memory limit!</p><p>I learned a fair bit about mixing different power levels in circuits along the way which I'll be able to use in my teaching, and I'll certainly have a few gotchas to look out for if any of my students start putting together complex programs.</p></div><footer class="post__footer"><div class="post__last-updated">This article was updated on January 10, 2019</div><div class="post__footer__col"><ul class="post__tag"><li><a href="https://headtilt.me/wag/classroom/">classroom</a></li><li><a href="https://headtilt.me/wag/microbit/">microbit</a></li><li><a href="https://headtilt.me/wag/ramble/">ramble</a></li><li><a href="https://headtilt.me/wag/robotics/">robotics</a></li></ul></div><nav class="post__nav"><div class="post__nav__prev">Previous Post<h5><a href="https://headtilt.me/year-7-minecraft-ee-and-programming/" class="inverse" rel="prev">Year 7: Minecraft: EE and Programming</a></h5></div><div class="post__nav__next">Next Post<h5><a href="https://headtilt.me/year-8-microbit-robotics/" class="inverse" rel="next">Micro:bit robotics</a></h5></div></nav></footer></article></main><footer class="footer"><div class="footer__copyright">Powered by inertia.</div><div class="footer__social"><a href="https://twitter.com/robpoulter" aria-label="Twitter"><svg class="icon"><use xlink:href="https://headtilt.me/assets/svg/svg-map.svg#twitter"/></svg></a></div></footer></div><script defer="defer" src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script><script defer="defer" src="https://headtilt.me/assets/js/scripts.min.js?v=f503b0ac46db9f99180b3b9f932c7f9a"></script><script defer="defer" src="https://headtilt.me/assets/js/photoswipe.min.js?v=9c62086e50d89a9b6a29389a70ee0d65"></script><script defer="defer" src="https://headtilt.me/assets/js/photoswipe-ui-default.min.js?v=aafb02c13ce2b295ff34a8ac0db67cbb"></script><script>var initPhotoSwipeFromDOM=function(gallerySelector){var parseThumbnailElements=function(el){var thumbElements=el.childNodes,numNodes=thumbElements.length,items=[],figureEl,linkEl,size,item;for(var i=0;i<numNodes;i++){figureEl=thumbElements[i];if(figureEl.nodeType!==1){continue;}
              linkEl=figureEl.children[0];size=linkEl.getAttribute('data-size').split('x');item={src:linkEl.getAttribute('href'),w:parseInt(size[0],10),h:parseInt(size[1],10)};if(figureEl.children.length>1){item.title=figureEl.children[1].innerHTML;}
              if(linkEl.children.length>0){item.msrc=linkEl.children[0].getAttribute('src');}
              item.el=figureEl;items.push(item);}
              return items;};var closest=function closest(el,fn){return el&&(fn(el)?el:closest(el.parentNode,fn));};var onThumbnailsClick=function(e){e=e||window.event;e.preventDefault?e.preventDefault():e.returnValue=false;var eTarget=e.target||e.srcElement;var clickedListItem=closest(eTarget,function(el){return(el.tagName&&el.tagName.toUpperCase()==='FIGURE');});if(!clickedListItem){return;}
              var clickedGallery=clickedListItem.parentNode,childNodes=clickedListItem.parentNode.childNodes,numChildNodes=childNodes.length,nodeIndex=0,index;for(var i=0;i<numChildNodes;i++){if(childNodes[i].nodeType!==1){continue;}
              if(childNodes[i]===clickedListItem){index=nodeIndex;break;}
              nodeIndex++;}
              if(index>=0){openPhotoSwipe(index,clickedGallery);}
              return false;};var photoswipeParseHash=function(){var hash=window.location.hash.substring(1),params={};if(hash.length<5){return params;}
              var vars=hash.split('&');for(var i=0;i<vars.length;i++){if(!vars[i]){continue;}
              var pair=vars[i].split('=');if(pair.length<2){continue;}
              params[pair[0]]=pair[1];}
              if(params.gid){params.gid=parseInt(params.gid,10);}
              return params;};var openPhotoSwipe=function(index,galleryElement,disableAnimation,fromURL){var pswpElement=document.querySelectorAll('.pswp')[0],gallery,options,items;items=parseThumbnailElements(galleryElement);options={galleryUID:galleryElement.getAttribute('data-pswp-uid'),getThumbBoundsFn:function(index){var thumbnail=items[index].el.getElementsByTagName('img')[0],pageYScroll=window.pageYOffset||document.documentElement.scrollTop,rect=thumbnail.getBoundingClientRect();return{x:rect.left,y:rect.top+pageYScroll,w:rect.width};},
              mainClass:'',
              hideAnimationDuration:200,
              showAnimationDuration:0,
              bgOpacity: 0.7,
              showHideOpacity:true,
              closeOnScroll: true,
              arrowKeys: true,
              closeEl: true,
              captionEl: true,
              fullscreenEl: true,
              zoomEl: true,
              shareEl: true,
              counterEl: true,
              arrowEl: true,
              preloaderEl: true
              };if(fromURL){if(options.galleryPIDs){for(var j=0;j<items.length;j++){if(items[j].pid==index){options.index=j;break;}}}else{options.index=parseInt(index,10)-1;}}else{options.index=parseInt(index,10);}
              if(isNaN(options.index)){return;}
              if(disableAnimation){options.showAnimationDuration=0;}
              gallery=new PhotoSwipe(pswpElement,PhotoSwipeUI_Default,items,options);gallery.init();gallery.options.escKey=true;};var galleryElements=document.querySelectorAll(gallerySelector);for(var i=0,l=galleryElements.length;i<l;i++){galleryElements[i].setAttribute('data-pswp-uid',i+1);galleryElements[i].onclick=onThumbnailsClick;}
              var hashData=photoswipeParseHash();if(hashData.pid&&hashData.gid){openPhotoSwipe(hashData.pid,galleryElements[hashData.gid-1],true,true);}};initPhotoSwipeFromDOM('.gallery');</script><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" title="Share"></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><script defer="defer" src="https://headtilt.me/assets/js/prism.js?v=afcf02720f838e992a12336758017bcf"></script></body></html>